# =============================================================================
# SENTINEL CONFIGURATION TEMPLATE
# Copy this file to .env and fill in your values
# =============================================================================

# -----------------------------------------------------------------------------
# CORE AI SERVICES (Required)
# -----------------------------------------------------------------------------

# Claude API - Get from https://console.anthropic.com/
CLAUDE_API_KEY=sk-ant-api03-your-key-here

# OpenAI - Get from https://platform.openai.com/api-keys
# Used for: Whisper (STT), DALL-E (images), embeddings
OPENAI_API_KEY=sk-proj-your-key-here

# ElevenLabs - Get from https://elevenlabs.io/
# Used for: Text-to-speech (JARVIS voice)
ELEVENLABS_API_KEY=sk_your-key-here
ELEVENLABS_VOICE_ID=your-voice-id

# HuggingFace (Optional) - Get from https://huggingface.co/settings/tokens
HUGGINGFACE_ACCESS_TOKEN=hf_your-token-here

# -----------------------------------------------------------------------------
# COMMUNICATION PLATFORMS
# -----------------------------------------------------------------------------

# Telegram - Get from @BotFather on Telegram
TELEGRAM_BOT_TOKEN=your-bot-token
TELEGRAM_CHAT_ID=your-chat-id

# Discord - Get from https://discord.com/developers/applications
DISCORD_BOT_TOKEN=your-bot-token
DISCORD_CLIENT_ID=your-client-id
DISCORD_GUILD_ID=your-server-id
DISCORD_ALLOWED_USER_IDS=your-user-id

# Slack (Optional) - Get from https://api.slack.com/apps
SLACK_BOT_TOKEN=xoxb-your-token
SLACK_SIGNING_SECRET=your-signing-secret
SLACK_APP_TOKEN=xapp-your-token

# WhatsApp (Optional) - Uses Baileys library
# Scans QR code on first run to link your WhatsApp account
WHATSAPP_ENABLED=false
WHATSAPP_AUTH_DIR=./whatsapp-auth
WHATSAPP_ALLOWED_NUMBERS=+1234567890,+0987654321

# Signal (Optional) - Requires signal-cli
# Install: https://github.com/AsamK/signal-cli
# Register your number first: signal-cli -u +1234567890 register
SIGNAL_ENABLED=false
SIGNAL_PHONE_NUMBER=+1234567890
SIGNAL_CLI_PATH=signal-cli
SIGNAL_ALLOWED_NUMBERS=+1234567890,+0987654321

# iMessage (Optional, macOS only)
# Mode: "applescript" (direct) or "bluebubbles" (server-based)
# BlueBubbles: https://bluebubbles.app/
IMESSAGE_ENABLED=false
IMESSAGE_MODE=applescript
IMESSAGE_BLUEBUBBLES_URL=http://localhost:1234
IMESSAGE_BLUEBUBBLES_PASSWORD=your-password
IMESSAGE_ALLOWED_NUMBERS=+1234567890,+0987654321

# Twilio - Get from https://console.twilio.com/
TWILIO_ACCOUNT_SID=ACyour-sid
TWILIO_AUTH_TOKEN=your-auth-token
TWILIO_PHONE_NUMBER=+1234567890

# -----------------------------------------------------------------------------
# PRODUCTIVITY INTEGRATIONS (Optional)
# -----------------------------------------------------------------------------

# GitHub - Get from https://github.com/settings/tokens
GITHUB_TOKEN=ghp_your-token
GITHUB_WEBHOOK_SECRET=your-webhook-secret

# Notion - Get from https://www.notion.so/my-integrations
NOTION_API_KEY=secret_your-key
NOTION_ROOT_PAGE_ID=your-page-id

# -----------------------------------------------------------------------------
# SMART HOME & ENTERTAINMENT (Optional)
# -----------------------------------------------------------------------------

# Home Assistant - Get token from HA profile page
HOME_ASSISTANT_URL=http://homeassistant.local:8123
HOME_ASSISTANT_TOKEN=your-long-lived-token

# Spotify - Get from https://developer.spotify.com/dashboard
SPOTIFY_CLIENT_ID=your-client-id
SPOTIFY_CLIENT_SECRET=your-client-secret
SPOTIFY_REDIRECT_URI=http://localhost:8030/api/callbacks/spotify

# -----------------------------------------------------------------------------
# CLOUD STORAGE (Optional)
# -----------------------------------------------------------------------------

# Google Services (unified OAuth2 — Gmail, Calendar, Drive)
# Get from https://console.cloud.google.com/
GOOGLE_CLIENT_ID=your-client-id
GOOGLE_CLIENT_SECRET=your-client-secret
GOOGLE_REDIRECT_URI=http://localhost:8030/api/callbacks/google
GOOGLE_API_KEY=your-api-key
# GOOGLE_REFRESH_TOKEN=  # Set after first OAuth flow

# Dropbox - Get from https://www.dropbox.com/developers/apps
DROPBOX_APP_KEY=your-app-key
DROPBOX_APP_SECRET=your-app-secret
DROPBOX_ACCESS_TOKEN=your-access-token

# -----------------------------------------------------------------------------
# FINANCE (Optional)
# -----------------------------------------------------------------------------

# Alpha Vantage - Get from https://www.alphavantage.co/support/#api-key
ALPHA_VANTAGE_API_KEY=your-api-key

# Exchange Trading (Optional) - Coinbase + Binance
# Coinbase Advanced Trade - Get from https://www.coinbase.com/settings/api
COINBASE_API_KEY=your-api-key
COINBASE_PRIVATE_KEY=your-ec-private-key

# Binance - Get from https://www.binance.com/en/my/settings/api-management
BINANCE_API_KEY=your-api-key
BINANCE_API_SECRET=your-api-secret
BINANCE_TESTNET=false
EXCHANGE_REQUIRE_CONFIRMATION=true

# DeFi Data (Optional) - DeFiLlama Pro (free tier works without key)
DEFILLAMA_API_KEY=your-pro-key

# On-Chain Analytics (Optional) - Etherscan + Alchemy
# Etherscan - Get from https://etherscan.io/myapikey
ETHERSCAN_API_KEY=your-api-key
# Alchemy - Get from https://dashboard.alchemy.com/
ALCHEMY_API_KEY=your-api-key
ALCHEMY_NETWORK=eth-mainnet

# -----------------------------------------------------------------------------
# EMAIL (Optional)
# -----------------------------------------------------------------------------

# Email Provider: gmail, outlook, yahoo, or custom
EMAIL_PROVIDER=gmail
EMAIL_USER=your-email@gmail.com
EMAIL_PASSWORD=your-app-password
EMAIL_IMAP_HOST=imap.gmail.com
EMAIL_IMAP_PORT=993
EMAIL_SMTP_HOST=smtp.gmail.com
EMAIL_SMTP_PORT=587

# Local Mail Server - Dovecot master user for multi-account access
# Allows OpenSentinel to check/send from any mailbox on your server
# Set up master user in Dovecot: see docs for setup instructions
EMAIL_MASTER_USER=opensentinel
EMAIL_MASTER_PASSWORD=your-master-password
EMAIL_LOCAL_IMAP_HOST=127.0.0.1
EMAIL_LOCAL_IMAP_PORT=993
EMAIL_LOCAL_SMTP_HOST=127.0.0.1
EMAIL_LOCAL_SMTP_PORT=25

# -----------------------------------------------------------------------------
# PAYMENTS (Optional - Not Active)
# -----------------------------------------------------------------------------

# Stripe - Get from https://dashboard.stripe.com/apikeys
STRIPE_KEY=pk_live_your-key
STRIPE_SECRET=sk_live_your-secret
STRIPE_WEBHOOK_SECRET=whsec_your-secret
STRIPE_API_KEY_ID=your-key-id

# -----------------------------------------------------------------------------
# DATABASE & CACHE (Required)
# -----------------------------------------------------------------------------

# PostgreSQL - Default Docker setup
DATABASE_URL=postgresql://sentinel:sentinel@localhost:5445/sentinel

# Redis - Default Docker setup
REDIS_URL=redis://localhost:6379

# -----------------------------------------------------------------------------
# MCP (Model Context Protocol)
# -----------------------------------------------------------------------------

# Enable MCP support for external tool servers
MCP_ENABLED=true

# Path to MCP configuration file
MCP_CONFIG_PATH=./mcp.json

# -----------------------------------------------------------------------------
# APPLICATION
# -----------------------------------------------------------------------------

# Gateway Authentication
# If set, all web/API requests require this token. Leave unset for open localhost access.
# Generate with: openssl rand -hex 24
# GATEWAY_TOKEN=

# Server Port
PORT=8030

# Environment
NODE_ENV=development

# OSINT Graph Explorer
OSINT_ENABLED=true

# -----------------------------------------------------------------------------
# ADVANCED RAG PIPELINE
# -----------------------------------------------------------------------------
# Enable/disable individual RAG enhancement techniques
# All default to false — set to true to activate

# HyDE: Generates hypothetical answer embeddings for better semantic matching
HYDE_ENABLED=true

# Cross-Encoder Re-ranking: LLM-as-judge scoring for result re-ranking
RERANK_ENABLED=true

# Contextual Query Rewriting: Resolves pronouns/references from conversation history
CONTEXTUAL_QUERY_ENABLED=true

# Multi-Step RAG: Recursive retrieval with automatic gap detection
MULTISTEP_RAG_ENABLED=true

# Retrieval Cache: Redis-backed caching for repeated/similar queries
RETRIEVAL_CACHE_ENABLED=true
